System.register(["jimu-core","jimu-ui/advanced/setting-components","jimu-ui"],(function(e,t){var a={},n={},l={};return{setters:[function(e){a.Immutable=e.Immutable,a.React=e.React,a.classNames=e.classNames},function(e){n.MapWidgetSelector=e.MapWidgetSelector,n.SettingRow=e.SettingRow,n.SettingSection=e.SettingSection},function(e){l.Button=e.Button,l.Checkbox=e.Checkbox,l.Icon=e.Icon,l.Loading=e.Loading,l.NumericInput=e.NumericInput,l.Option=e.Option,l.Radio=e.Radio,l.Select=e.Select,l.Switch=e.Switch,l.TextInput=e.TextInput,l.Tooltip=e.Tooltip}],execute:function(){e((()=>{var e={662:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M7.5 0a.5.5 0 0 0-.5.5V7H.5a.5.5 0 0 0 0 1H7v6.5a.5.5 0 0 0 1 0V8h6.5a.5.5 0 0 0 0-1H8V.5a.5.5 0 0 0-.5-.5"></path></svg>'},935:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M7.986 1a6.99 6.99 0 0 1 5.723 2.969l-2.551-.938a.5.5 0 1 0-.345.938l4.228 1.555.163-.944.013-.005-.009-.019.6-3.471a.5.5 0 1 0-.985-.17l-.403 2.33A8 8 0 0 0 0 7.5c-.016.277.21.501.486.501a.53.53 0 0 0 .517-.5A7 7 0 0 1 7.986 1M8.015 15a6.99 6.99 0 0 1-5.724-2.969l2.551.938a.497.497 0 0 0 .642-.296.5.5 0 0 0-.297-.642L.96 10.476l-.163.944-.013.005.009.019-.6 3.471a.5.5 0 1 0 .985.17l.403-2.33A8 8 0 0 0 16 8.5a.477.477 0 0 0-.485-.501.53.53 0 0 0-.518.5A7 7 0 0 1 8.015 15"></path></svg>'},44:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M6 6.5a.5.5 0 0 1 1 0v6a.5.5 0 0 1-1 0zM9.5 6a.5.5 0 0 0-.5.5v6a.5.5 0 0 0 1 0v-6a.5.5 0 0 0-.5-.5"></path><path fill="#000" fill-rule="evenodd" d="M11 0H5a1 1 0 0 0-1 1v2H.5a.5.5 0 0 0 0 1h1.6l.81 11.1a1 1 0 0 0 .995.9h8.19a1 1 0 0 0 .995-.9L13.9 4h1.6a.5.5 0 0 0 0-1H12V1a1 1 0 0 0-1-1m0 3V1H5v2zm1.895 1h-9.79l.8 11h8.19z" clip-rule="evenodd"></path></svg>'},244:e=>{"use strict";e.exports=a},321:e=>{"use strict";e.exports=l},298:e=>{"use strict";e.exports=n}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,r),l.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="";var i={};return r.p=window.jimuConfig.baseUrl,(()=>{"use strict";r.r(i),r.d(i,{__set_webpack_public_path__:()=>h,default:()=>v});var e=r(244),t=r(298),a=r(662),n=r.n(a),l=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const o=t=>{const a=window.SVG,{className:r}=t,i=l(t,["className"]),o=(0,e.classNames)("jimu-icon jimu-icon-component",r);return a?e.React.createElement(a,Object.assign({className:o,src:n()},i)):e.React.createElement("svg",Object.assign({className:o},i))};var c=r(44),s=r.n(c),m=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const d=t=>{const a=window.SVG,{className:n}=t,l=m(t,["className"]),r=(0,e.classNames)("jimu-icon jimu-icon-component",n);return a?e.React.createElement(a,Object.assign({className:r,src:s()},l)):e.React.createElement("svg",Object.assign({className:r},l))};var u=r(935),p=r.n(u),g=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const R=t=>{const a=window.SVG,{className:n}=t,l=g(t,["className"]),r=(0,e.classNames)("jimu-icon jimu-icon-component",n);return a?e.React.createElement(a,Object.assign({className:r,src:p()},l)):e.React.createElement("svg",Object.assign({className:r},l))};var y=r(321),f=function(e,t,a,n){return new(a||(a=Promise))((function(l,r){function i(e){try{c(n.next(e))}catch(e){r(e)}}function o(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,o)}c((n=n.apply(e,t||[])).next())}))};const v=a=>{var n,l,r,i,c,s,m,u;const{config:p}=a,[g,v]=e.React.useState({}),h={zoomIn:!0,zoomOut:!0,centerHere:!0,copyCoordinates:!0,plotCoordinates:!0,plotMarker:!0,addText:!0,streetView:!0,pictometry:!0,measureDistance:!0,measureArea:!0,whatsHere:!0},b={defaultUnits:"feet",unitDisplay:"single"},E={markerSize:8,markerColor:"#0078ff",markerStyle:"circle",markerOutlineColor:"#ffffff",markerOutlineWidth:1,markerOpacity:1,markerAngle:0,markerXOffset:0,markerYOffset:0,customPath:""},x={markerSize:12,markerColor:"#ff6b6b",textColor:"#ffffff",textSize:10,showCoordinateText:!0,showCoordinateLabels:!0,coordinateSystem:"map",customWkid:void 0,coordinateFormat:"decimal",decimalPlaces:6,labelOffset:20,labelTextSize:10,labelTextColor:"#000000"},S={fontSize:14,fontColor:"#000000",fontFamily:"Arial",fontWeight:"bold",haloColor:"#ffffff",haloSize:2,backgroundColor:"transparent",backgroundOpacity:.8},C=e.React.useMemo((()=>Object.assign(Object.assign({},h),p.enabledActions)),[p.enabledActions]),k=e.React.useMemo((()=>Object.assign(Object.assign({},b),p.measurementSettings)),[p.measurementSettings]),O=e.React.useMemo((()=>Object.assign(Object.assign({},x),p.plotSettings)),[p.plotSettings]),w=e.React.useMemo((()=>Object.assign(Object.assign({},E),p.markerSettings)),[p.markerSettings]),L=e.React.useMemo((()=>Object.assign(Object.assign({},S),p.textSettings)),[p.textSettings]),j=e.React.useMemo((()=>C.measureDistance||C.measureArea),[C.measureDistance,C.measureArea]),z=t=>{a.onSettingChange({id:a.id,config:(0,e.Immutable)(Object.assign(Object.assign({},p),{coordinateSystem:t}))})},I=(t,n)=>{a.onSettingChange({id:a.id,config:(0,e.Immutable)(Object.assign(Object.assign({},p),{measurementSettings:Object.assign(Object.assign({},k),{[t]:n})}))})},T=(t,n)=>{a.onSettingChange({id:a.id,config:(0,e.Immutable)(Object.assign(Object.assign({},p),{plotSettings:Object.assign(Object.assign({},O),{[t]:n})}))})},M=(t,n)=>{a.onSettingChange({id:a.id,config:(0,e.Immutable)(Object.assign(Object.assign({},p),{markerSettings:Object.assign(Object.assign({},w),{[t]:n})}))})},N=(t,n)=>{a.onSettingChange({id:a.id,config:(0,e.Immutable)(Object.assign(Object.assign({},p),{textSettings:Object.assign(Object.assign({},L),{[t]:n})}))})},H=(t,n)=>{const l=[...p.featureLayers||[]];l[t]=n,a.onSettingChange({id:a.id,config:(0,e.Immutable)(Object.assign(Object.assign({},p),{featureLayers:l}))})},W=(t,n)=>{const l=p.whatsHereSettings||{};a.onSettingChange({id:a.id,config:(0,e.Immutable)(Object.assign(Object.assign({},p),{whatsHereSettings:Object.assign(Object.assign({},l),{[t]:n})}))})},P=(t,n)=>{const l=p.uiSettings||{};a.onSettingChange({id:a.id,config:(0,e.Immutable)(Object.assign(Object.assign({},p),{uiSettings:Object.assign(Object.assign({},l),{[t]:n})}))})},A=(e,t)=>{var a;const n=p.featureLayers[e],l=(null===(a=g[e])||void 0===a?void 0:a.fields)||[],r=t?l.map((e=>e.name)):[];H(e,Object.assign(Object.assign({},n),{fields:r}))},D=e=>({zoomIn:"Zoom In",zoomOut:"Zoom Out",centerHere:"Center Here",copyCoordinates:"Copy Coordinates",plotCoordinates:"Plot Coordinates",plotMarker:"Plot Marker",addText:"Add Text",streetView:"Open in Google Street View",pictometry:"Open in Pictometry",measureDistance:"Measure Distance",measureArea:"Measure Area",whatsHere:"What's here?"}[e]||e.replace(/([A-Z])/g," $1")),B=e.React.useMemo((()=>({mainContainer:{fontSize:"13px",lineHeight:"1.4",color:"var(--dark-800)"},inputContainer:{display:"flex",flexDirection:"column",gap:"6px",width:"100%"},inputLabel:{fontSize:"12px",fontWeight:600,color:"var(--dark-600)",lineHeight:"1.3",marginBottom:"0"},helpText:{fontSize:"11px",color:"var(--light-600)",lineHeight:"1.3",fontStyle:"italic"},disabledText:{fontSize:"11px",color:"var(--light-500)",lineHeight:"1.3",fontStyle:"italic"},settingsGrid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",alignItems:"start"},plotSettingsGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",alignItems:"end"},radioGroup:{display:"flex",flexDirection:"column",gap:"10px",alignItems:"flex-start"},radioLabel:{display:"flex",alignItems:"center",gap:"8px",margin:0,padding:"4px 0",fontSize:"13px",color:"var(--dark-700)",cursor:"pointer",lineHeight:"1.3"},measurementContainer:{display:"flex",alignItems:"flex-start",gap:"20px",width:"100%"},measurementLabel:{minWidth:"100px",fontWeight:600,fontSize:"12px",paddingTop:"6px",flexShrink:0,color:"var(--dark-600)"},measurementRadioGroup:{display:"flex",flexDirection:"column",gap:"10px",flex:1,alignItems:"flex-start"},colorPicker:{width:"40px",height:"32px",padding:"2px",border:"1px solid var(--light-400)",borderRadius:"3px",cursor:"pointer"},colorInputContainer:{display:"flex",alignItems:"center",gap:"8px"},warningBox:{padding:"12px 16px",backgroundColor:"var(--warning-100)",borderRadius:"4px",fontSize:"12px",color:"var(--warning-700)",border:"1px solid var(--warning-300)",lineHeight:"1.4"},errorContainer:{padding:"10px 12px",backgroundColor:"var(--danger-100)",borderRadius:"4px",fontSize:"11px",color:"var(--danger-700)",border:"1px solid var(--danger-300)",lineHeight:"1.4"},featureLayerContainer:{border:"1px solid var(--light-400)",borderRadius:"6px",padding:"0",marginBottom:"12px",backgroundColor:"var(--white)",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},featureLayerHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",backgroundColor:"var(--light-200)",borderBottom:"1px solid var(--light-400)",borderRadius:"5px 5px 0 0"},featureLayerTitle:{fontSize:"13px",fontWeight:600,color:"var(--dark-800)",lineHeight:"1.3"},featureLayerContent:{padding:"16px"},removeButton:{minWidth:"28px",height:"28px",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"3px"},fieldSelectionContainer:{marginTop:"12px",padding:"12px",backgroundColor:"var(--light-100)",borderRadius:"4px",border:"1px solid var(--light-300)"},fieldSelectionHeader:{fontSize:"11px",fontWeight:600,marginBottom:"8px",color:"var(--dark-600)",lineHeight:"1.3"},fieldCheckboxList:{display:"flex",flexDirection:"column",gap:"6px",maxHeight:"180px",overflowY:"auto",marginBottom:"12px",padding:"4px 0"},fieldCheckboxItem:{display:"flex",alignItems:"flex-start",gap:"8px",padding:"4px 0",lineHeight:"1.3"},fieldTextContainer:{display:"flex",flexDirection:"column",gap:"2px",flex:1,minWidth:0},fieldName:{fontSize:"12px",fontWeight:500,color:"var(--dark-800)",lineHeight:"1.3",wordBreak:"break-word"},fieldAlias:{fontSize:"11px",color:"var(--light-600)",fontStyle:"italic",lineHeight:"1.3",wordBreak:"break-word"},showAllContainer:{borderTop:"1px solid var(--light-300)",paddingTop:"12px",marginTop:"8px",display:"flex",gap:"8px"},loadingContainer:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"20px",fontSize:"11px",color:"var(--light-600)",lineHeight:"1.3"},urlInputContainer:{display:"flex",alignItems:"flex-end",gap:"8px"},refreshButton:{marginLeft:"0"},addButton:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"12px 16px",border:"2px dashed var(--light-500)",borderRadius:"4px",backgroundColor:"transparent",color:"var(--light-600)",cursor:"pointer",transition:"all 0.2s ease",fontSize:"13px",fontWeight:500,minHeight:"40px"},emptyState:{textAlign:"center",padding:"32px 20px",color:"var(--light-600)",fontSize:"12px",lineHeight:"1.4"},fieldRow:{display:"flex",flexDirection:"column",gap:"6px",marginBottom:"16px"},sectionDescription:{fontSize:"12px",color:"var(--light-600)",lineHeight:"1.4",marginBottom:"16px",padding:"0"}})),[]),G=e.React.useMemo((()=>Object.entries(C)),[C]),F=e.React.useMemo((()=>["feet","yards","miles","meters","kilometers"]),[]);return e.React.createElement("div",{className:"widget-setting-right-click-map",style:B.mainContainer},e.React.createElement(t.SettingSection,{title:"Map Configuration"},e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.sectionDescription},"Select a map widget to enable right-click functionality")),e.React.createElement(t.SettingRow,null,e.React.createElement(t.MapWidgetSelector,{onSelect:t=>{a.onSettingChange({id:a.id,config:(0,e.Immutable)(Object.assign(Object.assign({},p),{useMapWidgetIds:(0,e.Immutable)(t)}))})},useMapWidgetIds:(0,e.Immutable)(p.useMapWidgetIds||[])}))),e.React.createElement(t.SettingSection,{title:"Enable Right-Click Actions"},G.map((([n,l])=>e.React.createElement(t.SettingRow,{key:n,label:D(n)},e.React.createElement(y.Switch,{checked:l,onChange:t=>((t,n)=>{a.onSettingChange({id:a.id,config:(0,e.Immutable)(Object.assign(Object.assign({},p),{enabledActions:Object.assign(Object.assign({},C),{[t]:n})}))})})(n,t.target.checked)}))))),C.plotCoordinates&&e.React.createElement(t.SettingSection,{title:"Plot Coordinates Settings"},e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.sectionDescription},"Configure how coordinate markers appear on the map. Markers are numbered sequentially and persist during the browser session.")),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Coordinate System for Display"),e.React.createElement("div",{role:"radiogroup",style:B.radioGroup},e.React.createElement("label",{style:B.radioLabel},e.React.createElement(y.Radio,{name:"plot-coord-system",value:"map",checked:"map"===O.coordinateSystem||!O.coordinateSystem,onChange:()=>T("coordinateSystem","map")}),"Use Map's Native Coordinate System"),e.React.createElement("label",{style:B.radioLabel},e.React.createElement(y.Radio,{name:"plot-coord-system",value:"webMercator",checked:"webMercator"===O.coordinateSystem,onChange:()=>T("coordinateSystem","webMercator")}),"Lat/Lon (WGS84)"),e.React.createElement("label",{style:B.radioLabel},e.React.createElement(y.Radio,{name:"plot-coord-system",value:"custom",checked:"custom"===O.coordinateSystem,onChange:()=>T("coordinateSystem","custom")}),"Custom Coordinate System")))),"custom"===O.coordinateSystem&&e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Custom WKID"),e.React.createElement(y.NumericInput,{value:O.customWkid||"",onChange:e=>T("customWkid",e),placeholder:"e.g. 3857, 4326, 2154",size:"sm"}),e.React.createElement("div",{style:B.helpText},"Enter the WKID (Well-Known ID) for your desired coordinate system"))),"webMercator"===O.coordinateSystem&&e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.settingsGrid},e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Lat/Lon Format"),e.React.createElement("div",{role:"radiogroup",style:B.radioGroup},e.React.createElement("label",{style:B.radioLabel},e.React.createElement(y.Radio,{name:"coord-format",value:"decimal",checked:"decimal"===O.coordinateFormat||!O.coordinateFormat,onChange:()=>T("coordinateFormat","decimal")}),"Decimal Degrees"),e.React.createElement("label",{style:B.radioLabel},e.React.createElement(y.Radio,{name:"coord-format",value:"dms",checked:"dms"===O.coordinateFormat,onChange:()=>T("coordinateFormat","dms")}),"Degrees, Minutes, Seconds"))),e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Decimal Places"),e.React.createElement(y.NumericInput,{value:O.decimalPlaces||6,onChange:e=>T("decimalPlaces",e),min:0,max:10,size:"sm",disabled:"dms"===O.coordinateFormat})))),("map"===O.coordinateSystem||"custom"===O.coordinateSystem)&&e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Decimal Places"),e.React.createElement(y.NumericInput,{value:O.decimalPlaces||2,onChange:e=>T("decimalPlaces",e),min:0,max:10,size:"sm"}))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Marker Style"),e.React.createElement(y.Select,{value:O.markerStyle||"circle",onChange:e=>T("markerStyle",e.target.value),size:"sm"},e.React.createElement(y.Option,{value:"circle"},"Circle"),e.React.createElement(y.Option,{value:"square"},"Square"),e.React.createElement(y.Option,{value:"cross"},"Cross"),e.React.createElement(y.Option,{value:"x"},"X"),e.React.createElement(y.Option,{value:"diamond"},"Diamond"),e.React.createElement(y.Option,{value:"triangle"},"Triangle"),e.React.createElement(y.Option,{value:"pin"},"Pin")),e.React.createElement("div",{style:B.helpText},"Choose the shape style for your marker symbol"))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.plotSettingsGrid},e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Marker Size"),e.React.createElement(y.NumericInput,{value:O.markerSize,onChange:e=>T("markerSize",e),min:8,max:24,size:"sm"})),e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Text Size"),e.React.createElement(y.NumericInput,{value:O.textSize,onChange:e=>T("textSize",e),min:6,max:16,size:"sm"})),e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Show Coordinate Labels"),e.React.createElement(y.Switch,{checked:O.showCoordinateLabels,onChange:e=>T("showCoordinateLabels",e.target.checked)})))),O.showCoordinateLabels&&e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.settingsGrid},e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Label Offset (pixels)"),e.React.createElement(y.NumericInput,{value:O.labelOffset||20,onChange:e=>T("labelOffset",e),min:5,max:100,size:"sm"}),e.React.createElement("div",{style:B.helpText},"Distance from marker to coordinate label")),e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Label Text Size"),e.React.createElement(y.NumericInput,{value:O.labelTextSize||10,onChange:e=>T("labelTextSize",e),min:6,max:16,size:"sm"})))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.plotSettingsGrid},e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Show Coordinates in Popup"),e.React.createElement(y.Switch,{checked:O.showCoordinateText,onChange:e=>T("showCoordinateText",e.target.checked)})),e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Marker Color"),e.React.createElement("div",{style:B.colorInputContainer},e.React.createElement("input",{type:"color",value:O.markerColor,onChange:e=>T("markerColor",e.target.value),style:B.colorPicker}),e.React.createElement(y.TextInput,{value:O.markerColor,onChange:e=>T("markerColor",e.target.value),placeholder:"#ff6b6b",size:"sm",style:{flex:1}}))),e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Text Color"),e.React.createElement("div",{style:B.colorInputContainer},e.React.createElement("input",{type:"color",value:O.textColor,onChange:e=>T("textColor",e.target.value),style:B.colorPicker}),e.React.createElement(y.TextInput,{value:O.textColor,onChange:e=>T("textColor",e.target.value),placeholder:"#ffffff",size:"sm",style:{flex:1}}))))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Outline Color"),e.React.createElement("div",{style:B.colorInputContainer},e.React.createElement("input",{type:"color",value:O.markerOutlineColor||"#ffffff",onChange:e=>T("markerOutlineColor",e.target.value),style:B.colorPicker}),e.React.createElement(y.TextInput,{value:O.markerOutlineColor||"#ffffff",onChange:e=>T("markerOutlineColor",e.target.value),placeholder:"#ffffff",size:"sm",style:{flex:1}})))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Outline Width"),e.React.createElement(y.NumericInput,{value:O.markerOutlineWidth||1,onChange:e=>T("markerOutlineWidth",e),min:0,max:8,size:"sm"}),e.React.createElement("div",{style:B.helpText},"Thickness in pixels"))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Rotation Angle"),e.React.createElement(y.NumericInput,{value:O.markerAngle||0,onChange:e=>T("markerAngle",e),min:0,max:360,size:"sm",style:{maxWidth:"150px"}}),e.React.createElement("div",{style:B.helpText},"Rotation angle in degrees (0-360)"))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"X Offset"),e.React.createElement(y.NumericInput,{value:O.markerXOffset||0,onChange:e=>T("markerXOffset",e),min:-50,max:50,size:"sm"}),e.React.createElement("div",{style:B.helpText},"Horizontal offset in pixels"))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Y Offset"),e.React.createElement(y.NumericInput,{value:O.markerYOffset||0,onChange:e=>T("markerYOffset",e),min:-50,max:50,size:"sm"}),e.React.createElement("div",{style:B.helpText},"Vertical offset in pixels"))),O.showCoordinateLabels&&e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Label Text Color"),e.React.createElement("div",{style:B.colorInputContainer},e.React.createElement("input",{type:"color",value:O.labelTextColor||"#000000",onChange:e=>T("labelTextColor",e.target.value),style:B.colorPicker}),e.React.createElement(y.TextInput,{value:O.labelTextColor||"#000000",onChange:e=>T("labelTextColor",e.target.value),placeholder:"#000000",size:"sm",style:{flex:1}})))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:Object.assign(Object.assign({},B.fieldSelectionContainer),{textAlign:"center",marginTop:"16px"})},e.React.createElement("div",{style:B.fieldSelectionHeader},"Marker Preview"),e.React.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"20px",backgroundColor:"#f8f9fa",borderRadius:"4px",border:"1px solid var(--light-300)",minHeight:"80px"}},e.React.createElement("div",{style:{width:`${O.markerSize}px`,height:`${O.markerSize}px`,backgroundColor:O.markerColor,border:`${O.markerOutlineWidth||1}px solid ${O.markerOutlineColor||"#ffffff"}`,opacity:O.markerOpacity||1,transform:`rotate(${O.markerAngle||0}deg) translate(${O.markerXOffset||0}px, ${O.markerYOffset||0}px)`,borderRadius:"circle"===(O.markerStyle||"circle")?"50%":"diamond"===(O.markerStyle||"circle")||"triangle"===(O.markerStyle||"circle")?"0":"pin"===(O.markerStyle||"circle")?"50% 50% 50% 0":"0",clipPath:"diamond"===(O.markerStyle||"circle")?"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)":"triangle"===(O.markerStyle||"circle")?"polygon(50% 0%, 0% 100%, 100% 100%)":"cross"===(O.markerStyle||"circle")?"polygon(40% 0%, 60% 0%, 60% 40%, 100% 40%, 100% 60%, 60% 60%, 60% 100%, 40% 100%, 40% 60%, 0% 60%, 0% 40%, 40% 40%)":"x"===(O.markerStyle||"circle")?"polygon(20% 0%, 0% 20%, 30% 50%, 0% 80%, 20% 100%, 50% 70%, 80% 100%, 100% 80%, 70% 50%, 100% 20%, 80% 0%, 50% 30%)":"pin"===(O.markerStyle||"circle")?"circle(40% at 50% 40%)":"none"}}),e.React.createElement("div",{style:{marginLeft:"12px",fontSize:"11px",color:"var(--light-600)",textAlign:"left"}},e.React.createElement("div",null,"Size: ",O.markerSize,"px"),e.React.createElement("div",null,"Style: ",O.markerStyle||"circle"),e.React.createElement("div",null,"Outline: ",O.markerOutlineWidth||1,"px"),0!==(O.markerAngle||0)&&e.React.createElement("div",null,"Rotation: ",O.markerAngle,"\xb0"),(0!==(O.markerXOffset||0)||0!==(O.markerYOffset||0))&&e.React.createElement("div",null,"Offset: ",O.markerXOffset||0,", ",O.markerYOffset||0)))))),C.plotMarker&&e.React.createElement(t.SettingSection,{title:"Simple Marker Settings"},e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.sectionDescription},"Configure simple markers with various styles and customization options.")),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Marker Style"),e.React.createElement(y.Select,{value:w.markerStyle||"circle",onChange:e=>M("markerStyle",e.target.value),size:"sm"},e.React.createElement(y.Option,{value:"circle"},"Circle"),e.React.createElement(y.Option,{value:"square"},"Square"),e.React.createElement(y.Option,{value:"cross"},"Cross"),e.React.createElement(y.Option,{value:"x"},"X"),e.React.createElement(y.Option,{value:"diamond"},"Diamond"),e.React.createElement(y.Option,{value:"triangle"},"Triangle"),e.React.createElement(y.Option,{value:"pin"},"Pin")),e.React.createElement("div",{style:B.helpText},"Choose the shape style for your marker symbol"))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Marker Size"),e.React.createElement(y.NumericInput,{value:w.markerSize,onChange:e=>M("markerSize",e),min:4,max:48,size:"sm"}),e.React.createElement("div",{style:B.helpText},"Size in pixels"))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Opacity"),e.React.createElement(y.NumericInput,{value:w.markerOpacity||1,onChange:e=>M("markerOpacity",e),min:0,max:1,step:.1,size:"sm"}),e.React.createElement("div",{style:B.helpText},"0.0 to 1.0 transparency"))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Marker Color"),e.React.createElement("div",{style:B.colorInputContainer},e.React.createElement("input",{type:"color",value:w.markerColor,onChange:e=>M("markerColor",e.target.value),style:B.colorPicker}),e.React.createElement(y.TextInput,{value:w.markerColor,onChange:e=>M("markerColor",e.target.value),placeholder:"#0078ff",size:"sm",style:{flex:1}})))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Outline Color"),e.React.createElement("div",{style:B.colorInputContainer},e.React.createElement("input",{type:"color",value:w.markerOutlineColor||"#ffffff",onChange:e=>M("markerOutlineColor",e.target.value),style:B.colorPicker}),e.React.createElement(y.TextInput,{value:w.markerOutlineColor||"#ffffff",onChange:e=>M("markerOutlineColor",e.target.value),placeholder:"#ffffff",size:"sm",style:{flex:1}})))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Outline Width"),e.React.createElement(y.NumericInput,{value:w.markerOutlineWidth||1,onChange:e=>M("markerOutlineWidth",e),min:0,max:8,size:"sm"}),e.React.createElement("div",{style:B.helpText},"Thickness in pixels"))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Rotation Angle"),e.React.createElement(y.NumericInput,{value:w.markerAngle||0,onChange:e=>M("markerAngle",e),min:0,max:360,size:"sm",style:{maxWidth:"150px"}}),e.React.createElement("div",{style:B.helpText},"Rotation angle in degrees (0-360)"))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"X Offset"),e.React.createElement(y.NumericInput,{value:w.markerXOffset||0,onChange:e=>M("markerXOffset",e),min:-50,max:50,size:"sm"}),e.React.createElement("div",{style:B.helpText},"Horizontal offset in pixels"))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Y Offset"),e.React.createElement(y.NumericInput,{value:w.markerYOffset||0,onChange:e=>M("markerYOffset",e),min:-50,max:50,size:"sm"}),e.React.createElement("div",{style:B.helpText},"Vertical offset in pixels"))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:Object.assign(Object.assign({},B.fieldSelectionContainer),{textAlign:"center",marginTop:"16px"})},e.React.createElement("div",{style:B.fieldSelectionHeader},"Marker Preview"),e.React.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"20px",backgroundColor:"#f8f9fa",borderRadius:"4px",border:"1px solid var(--light-300)",minHeight:"80px"}},e.React.createElement("div",{style:{width:`${w.markerSize}px`,height:`${w.markerSize}px`,backgroundColor:w.markerColor,border:`${w.markerOutlineWidth||1}px solid ${w.markerOutlineColor||"#ffffff"}`,opacity:w.markerOpacity||1,transform:`rotate(${w.markerAngle||0}deg) translate(${w.markerXOffset||0}px, ${w.markerYOffset||0}px)`,borderRadius:"circle"===w.markerStyle?"50%":"diamond"===w.markerStyle||"triangle"===w.markerStyle?"0":"pin"===w.markerStyle?"50% 50% 50% 0":"0",clipPath:"diamond"===w.markerStyle?"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)":"triangle"===w.markerStyle?"polygon(50% 0%, 0% 100%, 100% 100%)":"cross"===w.markerStyle?"polygon(40% 0%, 60% 0%, 60% 40%, 100% 40%, 100% 60%, 60% 60%, 60% 100%, 40% 100%, 40% 60%, 0% 60%, 0% 40%, 40% 40%)":"x"===w.markerStyle?"polygon(20% 0%, 0% 20%, 30% 50%, 0% 80%, 20% 100%, 50% 70%, 80% 100%, 100% 80%, 70% 50%, 100% 20%, 80% 0%, 50% 30%)":"pin"===w.markerStyle?"circle(40% at 50% 40%)":"none"}}),e.React.createElement("div",{style:{marginLeft:"12px",fontSize:"11px",color:"var(--light-600)",textAlign:"left"}},e.React.createElement("div",null,"Size: ",w.markerSize,"px"),e.React.createElement("div",null,"Style: ",w.markerStyle||"circle"),e.React.createElement("div",null,"Opacity: ",w.markerOpacity||1),0!==(w.markerAngle||0)&&e.React.createElement("div",null,"Rotation: ",w.markerAngle,"\xb0")))))),C.addText&&e.React.createElement(t.SettingSection,{title:"Text Settings"},e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.sectionDescription},"Configure how text appears when added to the map. Text graphics persist during the browser session.")),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.settingsGrid},e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Font Size"),e.React.createElement(y.NumericInput,{value:L.fontSize,onChange:e=>N("fontSize",e),min:8,max:48,size:"sm"})),e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Font Family"),e.React.createElement(y.Select,{value:L.fontFamily||"Arial",onChange:e=>N("fontFamily",e.target.value),size:"sm"},e.React.createElement(y.Option,{value:"Arial"},"Arial"),e.React.createElement(y.Option,{value:"Helvetica"},"Helvetica"),e.React.createElement(y.Option,{value:"Times New Roman"},"Times New Roman"),e.React.createElement(y.Option,{value:"Courier New"},"Courier New"),e.React.createElement(y.Option,{value:"Georgia"},"Georgia"),e.React.createElement(y.Option,{value:"Verdana"},"Verdana"),e.React.createElement(y.Option,{value:"Tahoma"},"Tahoma"),e.React.createElement(y.Option,{value:"Trebuchet MS"},"Trebuchet MS"))))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Font Weight"),e.React.createElement("div",{role:"radiogroup",style:B.radioGroup},e.React.createElement("label",{style:B.radioLabel},e.React.createElement(y.Radio,{name:"font-weight",value:"normal",checked:"normal"===L.fontWeight,onChange:()=>N("fontWeight","normal")}),"Normal"),e.React.createElement("label",{style:B.radioLabel},e.React.createElement(y.Radio,{name:"font-weight",value:"bold",checked:"bold"===L.fontWeight||!L.fontWeight,onChange:()=>N("fontWeight","bold")}),"Bold")))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Text Color"),e.React.createElement("div",{style:B.colorInputContainer},e.React.createElement("input",{type:"color",value:L.fontColor,onChange:e=>N("fontColor",e.target.value),style:B.colorPicker}),e.React.createElement(y.TextInput,{value:L.fontColor,onChange:e=>N("fontColor",e.target.value),placeholder:"#000000",size:"sm",style:{flex:1}})))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Outline Color"),e.React.createElement("div",{style:B.colorInputContainer},e.React.createElement("input",{type:"color",value:L.haloColor,onChange:e=>N("haloColor",e.target.value),style:B.colorPicker}),e.React.createElement(y.TextInput,{value:L.haloColor,onChange:e=>N("haloColor",e.target.value),placeholder:"#ffffff",size:"sm",style:{flex:1}})))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Outline Size"),e.React.createElement(y.NumericInput,{value:L.haloSize,onChange:e=>N("haloSize",e),min:0,max:6,size:"sm",style:{maxWidth:"120px"}}),e.React.createElement("div",{style:B.helpText},"Set to 0 to disable text outline"))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Background Color (optional)"),e.React.createElement("div",{style:B.colorInputContainer},e.React.createElement("input",{type:"color",value:"transparent"===L.backgroundColor?"#ffffff":L.backgroundColor,onChange:e=>N("backgroundColor",e.target.value),style:B.colorPicker}),e.React.createElement(y.TextInput,{value:L.backgroundColor,onChange:e=>N("backgroundColor",e.target.value),placeholder:"transparent",size:"sm",style:{flex:1}})))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement(y.Button,{type:"tertiary",size:"sm",onClick:()=>N("backgroundColor","transparent"),style:{alignSelf:"flex-start"}},"Clear Background"),e.React.createElement("div",{style:B.helpText},'Set to "transparent" for no background, or choose a color for text with background')))),C.pictometry&&e.React.createElement(t.SettingSection,{title:"Pictometry Settings"},e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Pictometry URL"),e.React.createElement(y.TextInput,{style:{width:"100%"},value:p.pictometryUrl||"",onChange:t=>{return n=t.target.value,void a.onSettingChange({id:a.id,config:(0,e.Immutable)(Object.assign(Object.assign({},p),{pictometryUrl:n}))});var n},placeholder:"https://example.com/gjPictViz.aspx"}))),!p.pictometryUrl&&e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.warningBox},e.React.createElement("strong",null,"Warning:")," Pictometry is enabled but no URL is configured. The right-click option will not work without a valid URL."))),C.whatsHere&&e.React.createElement(t.SettingSection,{title:"What's Here? Service"},e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Geocoding Service URL"),e.React.createElement(y.TextInput,{style:{width:"100%"},value:p.reverseGeocodeUrl||"",onChange:t=>{return n=t.target.value,void a.onSettingChange({id:a.id,config:(0,e.Immutable)(Object.assign(Object.assign({},p),{reverseGeocodeUrl:n}))});var n},placeholder:"https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer"}))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Locator WKID"),e.React.createElement(y.TextInput,{style:{width:"100%"},value:(null===(n=p.reverseGeocodeWkid)||void 0===n?void 0:n.toString())||"",onChange:t=>(t=>{const n=parseInt(t,10);a.onSettingChange({id:a.id,config:(0,e.Immutable)(Object.assign(Object.assign({},p),{reverseGeocodeWkid:isNaN(n)?void 0:n}))})})(t.target.value),placeholder:"e.g. 3857"}))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.settingsGrid},e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Max Results Per Layer"),e.React.createElement(y.NumericInput,{value:(null===(l=p.whatsHereSettings)||void 0===l?void 0:l.maxResults)||10,onChange:e=>W("maxResults",e),min:1,max:50,size:"sm"})),e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Search Radius (meters)"),e.React.createElement(y.NumericInput,{value:(null===(r=p.whatsHereSettings)||void 0===r?void 0:r.searchRadius)||10,onChange:e=>W("searchRadius",e),min:1,max:1e3,size:"sm"}))))),C.whatsHere&&e.React.createElement(t.SettingSection,{title:"Feature Layers for What's Here?"},p.featureLayers&&0!==p.featureLayers.length?p.featureLayers.map(((n,l)=>{const r=g[l],i=n.url&&n.url.trim().length>0,o=n.fields||[],c=(null==r?void 0:r.fields)||[];return e.React.createElement(t.SettingRow,{key:l},e.React.createElement("div",{style:B.featureLayerContainer},e.React.createElement("div",{style:B.featureLayerHeader},e.React.createElement("div",{style:B.featureLayerTitle},n.name||`Feature Layer ${l+1}`),e.React.createElement(y.Button,{type:"tertiary",size:"sm",icon:!0,onClick:()=>(t=>{const n=[...p.featureLayers||[]];n.splice(t,1),a.onSettingChange({id:a.id,config:(0,e.Immutable)(Object.assign(Object.assign({},p),{featureLayers:n}))}),v((e=>{const a=Object.assign({},e);return delete a[t],a}))})(l),style:B.removeButton},e.React.createElement(d,null))),e.React.createElement("div",{style:B.featureLayerContent},e.React.createElement("div",{style:B.fieldRow},e.React.createElement("label",{style:B.inputLabel},"Layer Name"),e.React.createElement(y.TextInput,{value:n.name||"",onChange:e=>H(l,Object.assign(Object.assign({},n),{name:e.target.value})),placeholder:"Display name for this layer",size:"sm"})),e.React.createElement("div",{style:B.fieldRow},e.React.createElement("label",{style:B.inputLabel},"Feature Service URL"),e.React.createElement("div",{style:B.urlInputContainer},e.React.createElement(y.TextInput,{style:{flex:1},value:n.url||"",onChange:e=>{const t=e.target.value;H(l,Object.assign(Object.assign({},n),{url:t,fields:[]})),r&&v((e=>Object.assign(Object.assign({},e),{[l]:{fields:[],loading:!1,error:null}})))},placeholder:"https://services.arcgis.com/.../FeatureServer/0",size:"sm"}),i&&e.React.createElement(y.Tooltip,{title:"Load fields from service"},e.React.createElement(y.Button,{type:"tertiary",size:"sm",icon:!0,onClick:()=>{return e=n.url,t=l,f(void 0,void 0,void 0,(function*(){if(e.trim()){v((e=>Object.assign(Object.assign({},e),{[t]:{fields:[],loading:!0,error:null}})));try{let a=e.trim();a.includes("?")?a.includes("f=json")||(a+="&f=json"):a+="?f=json";const n=yield fetch(a);if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);const l=yield n.json();if(l.error)throw new Error(l.error.message||"Service returned an error");if(!l.fields||!Array.isArray(l.fields))throw new Error("No fields found in service response");const r=l.fields.map((e=>({name:e.name,alias:e.alias||e.name,type:e.type})));v((e=>Object.assign(Object.assign({},e),{[t]:{fields:r,loading:!1,error:null}})))}catch(e){console.error("Error fetching fields:",e),v((a=>Object.assign(Object.assign({},a),{[t]:{fields:[],loading:!1,error:e.message||"Failed to fetch fields from service"}})))}}}));var e,t},disabled:null==r?void 0:r.loading,style:B.refreshButton},e.React.createElement(R,null))))),e.React.createElement("div",{style:B.fieldRow},e.React.createElement("label",{style:Object.assign(Object.assign({},B.inputLabel),{color:i?B.inputLabel.color:"var(--light-500)"})},"Fields to Display"),!i&&e.React.createElement("div",{style:B.disabledText},"Enter a Feature Service URL above to load available fields"),i&&!r&&e.React.createElement("div",{style:B.helpText},"Click the refresh button to load fields from the service"),(null==r?void 0:r.loading)&&e.React.createElement("div",{style:B.loadingContainer},e.React.createElement(y.Loading,{size:"sm"}),"Loading fields from service..."),(null==r?void 0:r.error)&&e.React.createElement("div",{style:B.errorContainer},e.React.createElement("strong",null,"Error:")," ",r.error),c.length>0&&e.React.createElement("div",{style:B.fieldSelectionContainer},e.React.createElement("div",{style:B.fieldSelectionHeader},"Select fields to display (",o.length," of ",c.length," selected):"),e.React.createElement("div",{style:B.fieldCheckboxList},c.map((t=>e.React.createElement("div",{key:t.name,style:B.fieldCheckboxItem},e.React.createElement(y.Checkbox,{checked:o.includes(t.name),onChange:e=>((e,t,a)=>{const n=p.featureLayers[e],l=n.fields||[];let r;r=a?[...l,t]:l.filter((e=>e!==t)),H(e,Object.assign(Object.assign({},n),{fields:r}))})(l,t.name,e.target.checked)}),e.React.createElement("div",{style:B.fieldTextContainer},e.React.createElement("div",{style:B.fieldName},t.name),t.alias!==t.name&&e.React.createElement("div",{style:B.fieldAlias},t.alias)))))),e.React.createElement("div",{style:B.showAllContainer},e.React.createElement(y.Button,{type:"tertiary",size:"sm",onClick:()=>A(l,!0),disabled:o.length===c.length},"Select All"),e.React.createElement(y.Button,{type:"tertiary",size:"sm",onClick:()=>A(l,!1),disabled:0===o.length},"Clear All")))))))})):e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.emptyState},e.React.createElement("div",{style:{fontSize:"24px",marginBottom:"8px"}},e.React.createElement(y.Icon,{icon:"widget-table",size:24})),e.React.createElement("div",null,e.React.createElement("strong",null,"No feature layers configured")),e.React.createElement("div",{style:{fontSize:"11px",marginTop:"4px"}},'Add feature layers to enhance the "What\'s Here?" functionality'))),e.React.createElement(t.SettingRow,{flow:"wrap"},e.React.createElement(y.Button,{type:"primary",size:"sm",icon:!0,onClick:()=>{const t=[...p.featureLayers||[],{name:"",url:"",fields:[]}];a.onSettingChange({id:a.id,config:(0,e.Immutable)(Object.assign(Object.assign({},p),{featureLayers:t}))})}},e.React.createElement(o,null),"Add Feature Layer"))),C.whatsHere&&e.React.createElement(t.SettingSection,{title:"Popup Display Settings"},e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.settingsGrid},e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Popup Max Height (px)"),e.React.createElement(y.NumericInput,{value:(null===(i=p.uiSettings)||void 0===i?void 0:i.popupMaxHeight)||400,onChange:e=>P("popupMaxHeight",e),min:200,max:800,size:"sm"})),e.React.createElement("div",{style:B.inputContainer},e.React.createElement("label",{style:B.inputLabel},"Popup Width (px)"),e.React.createElement(y.NumericInput,{value:(null===(c=p.uiSettings)||void 0===c?void 0:c.popupWidth)||300,onChange:e=>P("popupWidth",e),min:250,max:500,size:"sm"})))),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.radioGroup},e.React.createElement("label",{style:B.radioLabel},e.React.createElement(y.Switch,{checked:!1!==(null===(s=p.uiSettings)||void 0===s?void 0:s.showLayerNames),onChange:e=>P("showLayerNames",e.target.checked)}),"Show layer names in popup"),e.React.createElement("label",{style:B.radioLabel},e.React.createElement(y.Switch,{checked:!1!==(null===(m=p.uiSettings)||void 0===m?void 0:m.groupByLayer),onChange:e=>P("groupByLayer",e.target.checked)}),"Group results by layer"),e.React.createElement("label",{style:B.radioLabel},e.React.createElement(y.Switch,{checked:!1!==(null===(u=p.uiSettings)||void 0===u?void 0:u.showFieldAliases),onChange:e=>P("showFieldAliases",e.target.checked)}),"Use field aliases for display")))),C.copyCoordinates&&e.React.createElement(t.SettingSection,{title:"Coordinate System for Copy Coordinates"},e.React.createElement(t.SettingRow,null,e.React.createElement("div",{role:"radiogroup",style:B.radioGroup},e.React.createElement("label",{style:B.radioLabel},e.React.createElement(y.Radio,{name:"coord-system",value:"map",checked:"map"===p.coordinateSystem||!p.coordinateSystem,onChange:()=>z("map")}),"Use Map's Coordinate System"),e.React.createElement("label",{style:B.radioLabel},e.React.createElement(y.Radio,{name:"coord-system",value:"webMercator",checked:"webMercator"===p.coordinateSystem,onChange:()=>z("webMercator")}),"Lat/Lon for Google Maps (WGS84)")))),j&&e.React.createElement(t.SettingSection,{title:"Measurement Settings"},e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.sectionDescription},"Configure measurement units and display options.")),e.React.createElement(t.SettingRow,null,e.React.createElement("div",{style:B.measurementContainer},e.React.createElement("div",{style:B.measurementLabel},"Default Units:"),e.React.createElement("div",{role:"radiogroup",style:B.measurementRadioGroup},F.map((t=>e.React.createElement("label",{key:t,style:B.radioLabel},e.React.createElement(y.Radio,{name:"default-units",value:t,checked:k.defaultUnits===t,onChange:()=>I("defaultUnits",t)}),t.charAt(0).toUpperCase()+t.slice(1))))))),e.React.createElement(t.SettingRow,{style:{marginTop:"20px"}},e.React.createElement("div",{style:B.measurementContainer},e.React.createElement("div",{style:B.measurementLabel},"Unit Display:"),e.React.createElement("div",{role:"radiogroup",style:B.measurementRadioGroup},e.React.createElement("label",{style:B.radioLabel},e.React.createElement(y.Radio,{name:"unit-display",value:"single",checked:"single"===k.unitDisplay||!k.unitDisplay,onChange:()=>I("unitDisplay","single")}),"Single Unit Only"),e.React.createElement("label",{style:B.radioLabel},e.React.createElement(y.Radio,{name:"unit-display",value:"both",checked:"both"===k.unitDisplay,onChange:()=>I("unitDisplay","both")}),"Show Both Units"))))))};function h(e){r.p=e}})(),i})())}}}));